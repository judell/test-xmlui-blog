<Fragment>
    <App
        layout="vertical-full-header"
        noScrollbarGutters="false"
        when="{!window.location.hash.includes('/playground')}"
        var.posts = `{[
          {
            title: "Welcome to the XMLUI blog!",
            slug: "welcome-to-the-xmlui-blog",
            author: "Jon Udell",
            date: "2025-09-01",
            image: "blog-page-component.png"
          },
          {
            title: "Lorem Ipsum!",
            slug: "lorem-ipsum",
            author: "H. Rackham",
            date: "1914-06-03",
            image: "lorem-ipsum.png"
          }
        ]}`
        >
        <AppHeader>
            <property name="logoTemplate">
                <Link to="https://xmlui.org/">
                    <Logo height="$space-8" />
                </Link>
            </property>
        </AppHeader>
        <Text> { JSON.stringify(posts) } </Text>
        <NavPanel>
          <NavLink label="Home" to="/" />
          <NavLink label="Blog" to="/blog" />
          <NavLink label="Search" to="/search" />
        </NavPanel>
        <Pages fallbackPath="/404">
           <Page url="/">
             <Text>Test of XMLUI blog</Text>
           </Page>
           <Page url="/blog">
             <BlogOverview posts="{posts}" />
           </Page>
           <Page url="/search">
             <VStack gap="2rem">
               <SearchPrep posts="{posts}" />
               <BlogSearch posts="{posts}" searchIndex="{window.getblogPosts()}" />
             </VStack>
           </Page>
           <Page url="/blog/{posts.p1.slug}">
             <BlogPage post="{posts.p1}" />
            </Page>
           <Page url="/blog/{posts.p2.slug}">
             <BlogPage post="{posts.p2}" />
            </Page>
        </Pages>

        <Footer>
            <ToneSwitch />
        </Footer>
    </App>
    <StandalonePlayground when="{window.location.hash.includes('/playground')}" />
</Fragment>